{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\IdeaProjects\\\\tscontrol\\\\src\\\\components\\\\GenresComponent\\\\GenresComponent.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { genresService } from \"../../services/axiosService\";\nimport { GenreListComponent } from \"../GenreListComponent/GenreListComponent\";\nimport { usePageQuery } from \"../../services/pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MovieGenre = ({\n  genreId\n}) => {\n  _s();\n  console.log('Rendering MovieGenre', genreId);\n  console.log('Selected genre in MovieGenre:', genreId);\n  const {\n    page,\n    prevPage,\n    nextPage\n  } = usePageQuery();\n  const [movies, setMovies] = useState([]);\n  const [genreDictionary, setGenreDictionary] = useState({});\n  useEffect(() => {\n    console.log('Genre useEffect 1 called');\n    genresService.getAll().then(({\n      data\n    }) => {\n      const dictionary = {};\n      data.genres.forEach(genre => {\n        dictionary[genre.id] = genre.name;\n      });\n      setGenreDictionary(dictionary);\n      console.log(dictionary, 'from movie genre');\n    }).catch(error => {\n      console.error('Error', error);\n    });\n  }, []);\n  useEffect(() => {\n    console.log('Genre useEffect 2 called');\n    const pageNumber = page ? parseInt(page, 10) : 1;\n    if (genreId) {\n      genresService.getMoviesByGenre(genreId, pageNumber).then(({\n        data\n      }) => {\n        setMovies(data.results);\n        console.log('Movies from API:', data.results);\n      }).catch(error => {\n        console.error('Error', error);\n      });\n    }\n  }, [genreId, page]);\n  const paginationControls = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: prevPage,\n      children: \"Previous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Page \", page]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: nextPage,\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n  console.log('Movies to render in GenreListComponent:', movies);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(GenreListComponent, {\n      genreId: genreId,\n      movies: movies,\n      genreDictionary: genreDictionary\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), paginationControls]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(MovieGenre, \"jgKnoEk795GIjeJ3quIhShaY1Tw=\", false, function () {\n  return [usePageQuery];\n});\n_c = MovieGenre;\nvar _c;\n$RefreshReg$(_c, \"MovieGenre\");","map":{"version":3,"names":["React","useState","useEffect","genresService","GenreListComponent","usePageQuery","jsxDEV","_jsxDEV","MovieGenre","genreId","_s","console","log","page","prevPage","nextPage","movies","setMovies","genreDictionary","setGenreDictionary","getAll","then","data","dictionary","genres","forEach","genre","id","name","catch","error","pageNumber","parseInt","getMoviesByGenre","results","paginationControls","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Dell/IdeaProjects/tscontrol/src/components/GenresComponent/GenresComponent.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport {genresService} from \"../../services/axiosService\";\r\nimport {GenreListComponent} from \"../GenreListComponent/GenreListComponent\";\r\nimport {usePageQuery} from \"../../services/pagination\";\r\nimport {Movie, Genre} from \"../../services/axiosService\";\r\n\r\n\r\ninterface MovieGenreProps {\r\n    genreId: number;\r\n}\r\n\r\nexport const MovieGenre: React.FC<MovieGenreProps> = ({ genreId }) => {\r\n    console.log('Rendering MovieGenre', genreId);\r\n    console.log('Selected genre in MovieGenre:', genreId);\r\n    const {page, prevPage, nextPage} = usePageQuery();\r\n    const [movies, setMovies] = useState<Movie[]>([]);\r\n    const [genreDictionary, setGenreDictionary] = useState<{ [key: number]: string }>({});\r\n\r\n    useEffect(() => {\r\n        console.log('Genre useEffect 1 called');\r\n        genresService.getAll().then(({data}) => {\r\n            const dictionary: { [key: number]: string } = {};\r\n            data.genres.forEach((genre: Genre) => {\r\n                dictionary[genre.id] = genre.name;\r\n            });\r\n            setGenreDictionary(dictionary);\r\n            console.log(dictionary, 'from movie genre')\r\n        }).catch(error => {\r\n            console.error('Error', error);\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        console.log('Genre useEffect 2 called');\r\n        const pageNumber = page ? parseInt(page, 10) : 1;\r\n        if (genreId) {\r\n            genresService.getMoviesByGenre(genreId, pageNumber).then(({data}) => {\r\n                setMovies(data.results);\r\n                console.log('Movies from API:', data.results);\r\n            }).catch(error => {\r\n                console.error('Error', error);\r\n            });\r\n        }\r\n    }, [genreId, page]);\r\n\r\n\r\n    const paginationControls = (\r\n        <div>\r\n            <button onClick={prevPage}>Previous</button>\r\n            <span>Page {page}</span>\r\n            <button onClick={nextPage}>Next</button>\r\n        </div>\r\n    );\r\n\r\n    console.log('Movies to render in GenreListComponent:', movies);\r\n    return (\r\n        <div>\r\n            <GenreListComponent genreId={genreId} movies={movies} genreDictionary={genreDictionary}/>\r\n            {paginationControls}\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}